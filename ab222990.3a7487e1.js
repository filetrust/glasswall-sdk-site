(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{197:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return r})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return c}));var l=n(2),i=n(6),o=(n(0),n(280)),a={title:"3.9 Using Qt in Glasswall",sidebar_label:"3.9 Using Qt in Glasswall"},r={unversionedId:"3-guides/3_9-using_qt_in_glasswall",id:"3-guides/3_9-using_qt_in_glasswall",isDocsHomePage:!1,title:"3.9 Using Qt in Glasswall",description:"Using QT",source:"@site/docs/3-guides/3_9-using_qt_in_glasswall.md",slug:"/3-guides/3_9-using_qt_in_glasswall",permalink:"/glasswall-sdk-site/docs/3-guides/3_9-using_qt_in_glasswall",version:"current",sidebar_label:"3.9 Using Qt in Glasswall",sidebar:"someSidebar",previous:{title:"3.8 Core 2 Cameras - Creating and Development Rules",permalink:"/glasswall-sdk-site/docs/3-guides/3_8-core2-cameras-creating_and_developing_rules"},next:{title:"3.10 Learn YAML in Y Minutes",permalink:"/glasswall-sdk-site/docs/3-guides/3_10-learn_yaml_in_y-minutes"}},s=[{value:"Installation",id:"installation",children:[{value:"Installing QT Framework and Dev Environment (on Windows)",id:"installing-qt-framework-and-dev-environment-on-windows",children:[]}]},{value:"Installing Windows Debug Support",id:"installing-windows-debug-support",children:[]},{value:"Installing Visual Studio Support",id:"installing-visual-studio-support",children:[{value:"Setup",id:"setup",children:[]}]},{value:"Add Qt Debug files",id:"add-qt-debug-files",children:[]},{value:"Debugging in Visual Studio",id:"debugging-in-visual-studio",children:[]},{value:"Beautifiying Code",id:"beautifiying-code",children:[{value:"Installing clang format",id:"installing-clang-format",children:[]}]}],u={rightToc:s};function c(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(l.a)({},u,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h1",{id:"using-qt"},"Using QT"),Object(o.b)("h2",{id:"installation"},"Installation"),Object(o.b)("h3",{id:"installing-qt-framework-and-dev-environment-on-windows"},"Installing QT Framework and Dev Environment (on Windows)"),Object(o.b)("p",null,"Run the ","'","z:\\Storage-Server-DevTools\\Development Tools\\QT Framework\\Offline Installers\\Windows Host\\qt-opensource-windows-x86-5.9.6.exe","'"," offline installer."),Object(o.b)("p",null,"Skip this screen (1) .."),Object(o.b)("p",null,Object(o.b)("img",{src:n(457).default})),Object(o.b)("p",null,"And this one (2) and the following welcome screen (3),"),Object(o.b)("p",null,Object(o.b)("img",{src:n(458).default})),Object(o.b)("p",null,"Suggest you leave the default installation path and the file-association ","'","ticked","'"," on this screen (4)"),Object(o.b)("p",null,Object(o.b)("img",{src:n(459).default})),Object(o.b)("p",null,"On screen (5), QT Creator with CDB Debugger is already selected."),Object(o.b)("p",null,"Choose MSVC 2017 64 bit as the platform target."),Object(o.b)("p",null,Object(o.b)("img",{src:n(460).default})),Object(o.b)("p",null,"Accept license agreement on next screen (6)"),Object(o.b)("p",null,"Accept Start Menu Shortcuts setting on next screen (7)"),Object(o.b)("p",null,"Then click ","'","Install","'"," on next screen (8)"),Object(o.b)("p",null,"Installation will take some time (300mb+ install)"),Object(o.b)("h2",{id:"installing-windows-debug-support"},"Installing Windows Debug Support"),Object(o.b)("p",null,"This install of QT Creator is primarily built to use CDB debug (WinDbg) to debug on Windows."),Object(o.b)("p",null,"WinDbg comes as part of Windows Driver Kit"),Object(o.b)("p",null,"Install it by running \u2026."),Object(o.b)("p",null,"[z:\\Storage-Server-DevTools\\Development Tools\\WindowsDriverKit\\wdksetup.exe]","(z:%5CStorage-Server-DevTools%5CDevelopment Tools%5CWindowsDriverKit%5Cwdksetup.exe)"),Object(o.b)("p",null,"Select c:\\Program Files (x86)\\Windows Kits\\ as the install location screen (1)"),Object(o.b)("p",null,"On screen (2) switch off Kits Privacy"),Object(o.b)("p",null,"Skip screen (3) that just reminds that the kit has no build or compile tools"),Object(o.b)("p",null,"On screen (4) installation occurs \u2013 fairly quick."),Object(o.b)("p",null,"And your done "),Object(o.b)("h2",{id:"installing-visual-studio-support"},"Installing Visual Studio Support"),Object(o.b)("p",null,"You can get support for bulding Qt Pro projects in Visual Studio"),Object(o.b)("p",null,"Goto z:\\Storage-Server-DevTools\\Development Tools\\QT Framework\\Visual Studio Add-In\\Visual Studio Add-in 2.2.1 for Qt5 MSVC 2017"),Object(o.b)("p",null,"Run ","'","qt-vsaddin-msvc2017-2.2.1","_","48f558a.vsix","'"),Object(o.b)("p",null,"It will install the Qt Support Tools into Visual Studio for MSVC 2017"),Object(o.b)("h3",{id:"setup"},"Setup"),Object(o.b)("h4",{id:"configure-debug"},"Configure Debug"),Object(o.b)("h5",{id:"hook-cdb-debug"},"Hook CDB debug"),Object(o.b)("p",null,"QT Creator may not spot the debugger path immediately"),Object(o.b)("p",null,"Goto Tools\\Options\\Build","&","Run\\Kits and check you have this setup"),Object(o.b)("p",null,Object(o.b)("img",{src:n(461).default})),Object(o.b)("p",null,"Goto Tools\\Options\\Build","&","Run\\Debuggers and check you have this setup"),Object(o.b)("p",null,Object(o.b)("img",{src:n(462).default})),Object(o.b)("h2",{id:"add-qt-debug-files"},"Add Qt Debug files"),Object(o.b)("p",null,"z:\\Storage-Server-DevTools\\Development Tools\\QT Framework\\Offline Installers\\Windows Host\\qt-opensource-windows-x86-pdb-files-desktop-5.9.6.7z"),Object(o.b)("p",null,"Contains the PDB files for the 5.9.6 version of Qt"),Object(o.b)("p",null,"These need to be copied to"),Object(o.b)("p",null,"c:\\Qt\\Qt5.9.6\\5.9.6\\msvc2017","_","64\\bin\\"),Object(o.b)("p",null,Object(o.b)("img",{src:n(463).default})),Object(o.b)("p",null,"Add the cache path as above"),Object(o.b)("p",null,"Suggestion been made that switching off Python Dumper can help debugging."),Object(o.b)("p",null,Object(o.b)("img",{src:n(464).default})),Object(o.b)("h2",{id:"debugging-in-visual-studio"},"Debugging in Visual Studio"),Object(o.b)("p",null,"When all else fails: Try debugging in Visual Studio"),Object(o.b)("p",null,"This is a workaround."),Object(o.b)("p",null,"After building in Qt"),Object(o.b)("p",null,"Copy QtCli in to Core Buildoutput"),Object(o.b)("p",null,"Open Visual Studio"),Object(o.b)("p",null,"Open File/Project and select QtCli"),Object(o.b)("p",null,"This will open a solution \u2013 goto the properties and copy the arguments for QtCLI from the Run window in QtCreator that you wish to run."),Object(o.b)("p",null,"Find file in QtCreator where you want the breakpoint and grab the full path to it and open that file in Visual Studio"),Object(o.b)("p",null,"Now you can place a breakpoint in the file window in VS and run in debug mode on VS"),Object(o.b)("h2",{id:"beautifiying-code"},"Beautifiying Code"),Object(o.b)("p",null,"Using the code layout tools to keep the source tidy"),Object(o.b)("h3",{id:"installing-clang-format"},"Installing clang format"),Object(o.b)("p",null,"Goto ",Object(o.b)("a",Object(l.a)({parentName:"p"},{href:"https://releases.llvm.org/download.html"}),"https://releases.llvm.org/download.html")),Object(o.b)("p",null,"Install for Windows - Choose\n",Object(o.b)("a",Object(l.a)({parentName:"p"},{href:"https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/LLVM-11.0.0-win64.exe"}),"https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/LLVM-11.0.0-win64.exe")),Object(o.b)("p",null,"Install for Linux, see other biniares on the main page."),Object(o.b)("p",null,"Run installer for LLVM"),Object(o.b)("p",null,"LLVM not installed in path, will be installed in c:\\Program Files\\LLVM\\"),Object(o.b)("p",null,"See ",Object(o.b)("a",Object(l.a)({parentName:"p"},{href:"https://doc.qt.io/qtcreator/creator-beautifier.html"}),"Qt Beautifying Source Code")," for full deatils of how to enable beautifier."),Object(o.b)("p",null,"Simple steps"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Open options on Qt Creator"),Object(o.b)("li",{parentName:"ul"},"Select 'Beautifier' panel"),Object(o.b)("li",{parentName:"ul"},"Select 'Clang Format' Tab"),Object(o.b)("li",{parentName:"ul"},"Set 'Clanf Format Command' to 'clang-format' *")),Object(o.b)("p",null,"*Where 'clang-format' is path to your installed copy.\ne.g. on Windows most likely 'C:\\Program Files\\LLVM\\bin\\clang-format.exe'"))}c.isMDXComponent=!0},280:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g}));var l=n(0),i=n.n(l);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,l,i=function(e,t){if(null==e)return{};var n,l,i={},o=Object.keys(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=i.a.createContext({}),c=function(e){var t=i.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},b=function(e){var t=c(e.components);return i.a.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},p=i.a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,o=e.originalType,a=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),b=c(n),p=l,g=b["".concat(a,".").concat(p)]||b[p]||d[p]||o;return n?i.a.createElement(g,r(r({ref:t},u),{},{components:n})):i.a.createElement(g,r({ref:t},u))}));function g(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var o=n.length,a=new Array(o);a[0]=p;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:l,a[1]=r;for(var u=2;u<o;u++)a[u]=n[u];return i.a.createElement.apply(null,a)}return i.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},457:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/qtscreenshot1-c1dec40c38370580c3e2fab6e89d3a4f.png"},458:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/qtscreenshot2-9c20a4e16387fa8cdee7044fed7928a1.png"},459:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/qtscreenshot3-cd7e5d834d296893e32241d3ee51ec76.png"},460:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/qtscreenshot4-8588095561c969433e1cd35394f7139b.png"},461:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/qtscreenshot5-d3d54c4b5d5e8032b26834a10809e77f.png"},462:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/qtscreenshot6-b7c5c62315bf8ba8d113aae1f393e3c2.png"},463:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/qtscreenshot7-2366c05d3458ae02ce5b519ce5384f67.png"},464:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/qtscreenshot8-eeebad1faad9c8a05c26041088498140.png"}}]);