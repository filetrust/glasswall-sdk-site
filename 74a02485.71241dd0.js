(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{170:function(e,r,t){"use strict";t.r(r),t.d(r,"frontMatter",(function(){return l})),t.d(r,"metadata",(function(){return o})),t.d(r,"rightToc",(function(){return s})),t.d(r,"default",(function(){return p}));var n=t(2),a=t(6),i=(t(0),t(278)),l={title:"2.2.6.1.3.2 JavaScript Wrapper",sidebar_label:"2.2.6.1.3.2 JavaScript Wrapper"},o={unversionedId:"2-glasswall_core/2_2-glasswall_editor/2_2_6-sdk/2_2_6_1-api/2_2_6_1_3-securitytagging/2_2_6_1_3-2-JavaScript",id:"2-glasswall_core/2_2-glasswall_editor/2_2_6-sdk/2_2_6_1-api/2_2_6_1_3-securitytagging/2_2_6_1_3-2-JavaScript",isDocsHomePage:!1,title:"2.2.6.1.3.2 JavaScript Wrapper",description:"Environment",source:"@site/docs/2-glasswall_core/2_2-glasswall_editor/2_2_6-sdk/2_2_6_1-api/2_2_6_1_3-securitytagging/2_2_6_1_3-2-JavaScript.md",slug:"/2-glasswall_core/2_2-glasswall_editor/2_2_6-sdk/2_2_6_1-api/2_2_6_1_3-securitytagging/2_2_6_1_3-2-JavaScript",permalink:"/glasswall-sdk-site/docs/2-glasswall_core/2_2-glasswall_editor/2_2_6-sdk/2_2_6_1-api/2_2_6_1_3-securitytagging/2_2_6_1_3-2-JavaScript",version:"current",sidebar_label:"2.2.6.1.3.2 JavaScript Wrapper",sidebar:"someSidebar",previous:{title:"2.2.6.1.3.1 Introduction",permalink:"/glasswall-sdk-site/docs/2-glasswall_core/2_2-glasswall_editor/2_2_6-sdk/2_2_6_1-api/2_2_6_1_3-securitytagging/2_2_6_1_3-1-introduction"},next:{title:"2.2.6.1.3.3 Java Wrapper",permalink:"/glasswall-sdk-site/docs/2-glasswall_core/2_2-glasswall_editor/2_2_6-sdk/2_2_6_1-api/2_2_6_1_3-securitytagging/2_2_6_1_3-3-Java"}},s=[{value:"Environment",id:"environment",children:[]},{value:"Example Code",id:"example-code",children:[]}],c={rightToc:s};function p(e){var r=e.components,t=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},c,t,{components:r,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"environment"},"Environment"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The JavaScript wrapper requires Node.js version 10.16.3. More recent versions of Node may not be compatible."),Object(i.b)("li",{parentName:"ul"},"Additional required modules are:",Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),"- node-ffi (Node.js Foreign Function Interface). The Node.js addon for loading and calling dynamic link libraries.\n- ref, the native addon for Node.js. This extends the Buffer class.\n- The node_modules directory contents, as supplied.\n- \n")),"Ensure that the Core 2 libraries and all required folders are accessible to the wrapper.")),Object(i.b)("h2",{id:"example-code"},"Example Code"),Object(i.b)("p",null,"The following code uses the JavaScript wrapper to process a file and place the tagged file in the specified directory. The tagged file is then inspected, and the tags contained within the file are extracted. This data is then saved in the specified directory."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{}),'// Demonstrate calls to the Security Tagging wrapper using JavaScript\n \nconst fs = require(\'fs\');\nconst path = require(\'path\');\nconst ref = require(\'ref\');\n \nfunction main() {\n    // Begin process log\n    const args = process.argv;\n \n    console.log("Running demo...");\n \n    let ifile = "B.docx";               // the file to be tagged\n    let tags = "digitalsignature.xml";  // tags to be used\n    let tagged_file = "B-tagged.docx"   // file created by GWSecuTag_RetrieveTagFile()\n    let retrieved_tags = "retrieved_tags.xml"    // the tags retrieved from the tagged file\n    let lib_file = "gw_securtag.dll"             // the sec tag library file DLL\n    let wrapper_script = "Core2JS_sec_tag.js";   // the wrapper script \n \n    // Include the Glasswall JavaScript Wrapper module\n    try {\n        let glasswall = require(wrapper_script);\n \n        // Create an instance of the Glasswall Library\n        var gw = new glasswall(lib_file);\n    }\n    catch (err) {\n        console.error("Unable to load Glasswall JavaScript Secure Tagging wrapper");\n        console.error(err);\n        console.error("Running demo...failed");\n        process.exit();\n    }\n \n    Console.log("\\n> Calling GWSecuTag_TagFile...");\n    rv = gw.GWSecuTag_TagFile(ifile, tags, tagged_file);\n    console.log(`\\n> Calling GWSecuTag_TagFile...done with status ${rv}`);\n \n    // call GWSecuTag_RetrieveTagFile()\n    Console.log("\\n> Calling GWSecuTag_RetrieveTagFile...");\n    rv =  gw.GWSecuTag_RetrieveTagFile(tagged_file, retrieved_tags);\n    Console.log(`\\n> Calling GWSecuTag_RetrieveTagFile...done with status ${rv}`);\n \n    console.log("Running demo...done");\n}\n \nif (require.main === module) {\n    main();\n}\n')))}p.isMDXComponent=!0},278:function(e,r,t){"use strict";t.d(r,"a",(function(){return g})),t.d(r,"b",(function(){return u}));var n=t(0),a=t.n(n);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){i(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=a.a.createContext({}),p=function(e){var r=a.a.useContext(c),t=r;return e&&(t="function"==typeof e?e(r):o(o({},r),e)),t},g=function(e){var r=p(e.components);return a.a.createElement(c.Provider,{value:r},e.children)},d={inlineCode:"code",wrapper:function(e){var r=e.children;return a.a.createElement(a.a.Fragment,{},r)}},_=a.a.forwardRef((function(e,r){var t=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),g=p(t),_=n,u=g["".concat(l,".").concat(_)]||g[_]||d[_]||i;return t?a.a.createElement(u,o(o({ref:r},c),{},{components:t})):a.a.createElement(u,o({ref:r},c))}));function u(e,r){var t=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var i=t.length,l=new Array(i);l[0]=_;var o={};for(var s in r)hasOwnProperty.call(r,s)&&(o[s]=r[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var c=2;c<i;c++)l[c]=t[c];return a.a.createElement.apply(null,l)}return a.a.createElement.apply(null,t)}_.displayName="MDXCreateElement"}}]);