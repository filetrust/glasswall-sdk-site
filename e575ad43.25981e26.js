(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{253:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return p}));var r=t(2),a=t(6),i=(t(0),t(278)),o={title:"2.1.7.2.1 Python",sidebar_label:"2.1.7.2.1 Python"},l={unversionedId:"2-glasswall_core/2_1-glasswall_rebuild/2_1_7-sdk/2_1_7_2-sdk_wrappers/2_1_7_2_1-python",id:"2-glasswall_core/2_1-glasswall_rebuild/2_1_7-sdk/2_1_7_2-sdk_wrappers/2_1_7_2_1-python",isDocsHomePage:!1,title:"2.1.7.2.1 Python",description:"Glasswall API Language Wrapper Documentation",source:"@site/docs/2-glasswall_core/2_1-glasswall_rebuild/2_1_7-sdk/2_1_7_2-sdk_wrappers/2_1_7_2_1-python.md",slug:"/2-glasswall_core/2_1-glasswall_rebuild/2_1_7-sdk/2_1_7_2-sdk_wrappers/2_1_7_2_1-python",permalink:"/glasswall-sdk-site/docs/2-glasswall_core/2_1-glasswall_rebuild/2_1_7-sdk/2_1_7_2-sdk_wrappers/2_1_7_2_1-python",version:"current",sidebar_label:"2.1.7.2.1 Python",sidebar:"someSidebar",previous:{title:"2.1.7.1.6.5 Resource Management",permalink:"/glasswall-sdk-site/docs/2-glasswall_core/2_1-glasswall_rebuild/2_1_7-sdk/2_1_7_1-api/2_1_7_1_6-lib_modules/2_1_7_1_6_5-resource_management"},next:{title:"2.1.7.2.2 JavaScript",permalink:"/glasswall-sdk-site/docs/2-glasswall_core/2_1-glasswall_rebuild/2_1_7-sdk/2_1_7_2-sdk_wrappers/2_1_7_2_2-javascript"}},s=[{value:"1.1 Issues to consider during implementation",id:"11-issues-to-consider-during-implementation",children:[]},{value:"2.1 Files provided",id:"21-files-provided",children:[]},{value:"2.2 Framework dependencies",id:"22-framework-dependencies",children:[]},{value:"2.3 Wrapper integration",id:"23-wrapper-integration",children:[]},{value:"2.4 Code example",id:"24-code-example",children:[]},{value:"2.5 Issues to consider",id:"25-issues-to-consider",children:[]}],c={rightToc:s};function p(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("div",{style:{textAlign:"center"}},Object(i.b)("h1",{id:"glasswall-api-language-wrapper-documentation"},"Glasswall API Language Wrapper Documentation"),Object(i.b)("h1",{id:"python"},"Python")),Object(i.b)("h1",{id:"1-introduction"},"1. Introduction"),Object(i.b)("p",null,"This is an introductory guide on how to use the language wrappers for the Glasswall API."),Object(i.b)("p",null,"For each language we have provided the following:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The required dependencies and the target platform or framework required for the language. The mentioned platforms and frameworks are the ones that were used during testing, but other versions may or may not work."),Object(i.b)("li",{parentName:"ul"},"A general overview on integrating Glasswall into a project."),Object(i.b)("li",{parentName:"ul"},"A code example demonstrating how the Glasswall library can be used to process a directory of files. Each example shows the file being processed in Manage and Protect mode as well as being analysed in Analysis mode.")),Object(i.b)("h2",{id:"11-issues-to-consider-during-implementation"},"1.1 Issues to consider during implementation"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The Glasswall library is not thread safe, which means that the language wrappers are not thread safe. This can be overcome by running the Glasswall library in a separate process."),Object(i.b)("li",{parentName:"ul"},"We recommend that the Glasswall library is run in separate process in case unforeseen issues arise.")),Object(i.b)("h1",{id:"2-python"},"2 Python"),Object(i.b)("h2",{id:"21-files-provided"},"2.1 Files provided"),Object(i.b)("p",null,"The Python wrapper is provided as a single Python file that you reference in your application."),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"Glasswall.py")," \u2013 The Python file containing the Glasswall module that is responsible for interacting with the Glasswall library."),Object(i.b)("h2",{id:"22-framework-dependencies"},"2.2 Framework dependencies"),Object(i.b)("p",null,"The Python wrapper requires either Python 2.7 or Python 3 to be installed."),Object(i.b)("h2",{id:"23-wrapper-integration"},"2.3 Wrapper integration"),Object(i.b)("p",null,"The Python wrapper can be integrated by importing the Glasswall module."),Object(i.b)("h2",{id:"24-code-example"},"2.4 Code example"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-python"}),'\nimport os\nimport argparse\n\nfrom Glasswall import *\n\ndef getCmdArgs():\n    parser = argparse.ArgumentParser(description=\'Glasswall Python Wrapper Example\')\n\n    parser.add_argument(\'-i\', action="store", dest="i", help="Input Directory",         type=str)\n    parser.add_argument(\'-o\', action="store", dest="o", help="Output Directory",        type=str)\n    parser.add_argument(\'-c\', action="store", dest="c", help="Path to CM config file",  type=str)\n    parser.add_argument(\'-p\', action="store", dest="p", help="Path to .DLL or .SO",     type=str)\n\n    args = parser.parse_args()\n\n    return args.i, args.o, args.c, args.p\n\ndef writeFile(fileName, outputDir, content):\n    fileHandler = open(os.path.join(outputDir, fileName), "wb")\n    fileHandler.write(content)\n    fileHandler.close()\n\ndef main():\n    inputDirectory, outputDirectory, pathToConfig, pathToLib = getCmdArgs()\n\n    print("Loading Library...")\n    #  Load Glasswall Lib\n    gw = Glasswall(pathToLib)\n    print("Done!")\n\n    os.makedirs(outputDirectory)\n\n    #  GWFileConfigXML Test\n    configFile = open(pathToConfig, "r")\n    xmlContent = configFile.read()\n    configFile.close()\n\n    # Apply the content management configuration\n    configXMLResult = gw.GWFileConfigXML(xmlContent)\n\n    if configXMLResult.returnStatus != 1:\n        print("Failed to apply the content management configuration for the following reason: " + gw.GWFileErrorMsg())\n        return\n\n    for root, folders, files in os.walk(unicode(inputDirectory, \'utf-8\')):\n        for eachFile in files:\n            filepath = os.path.join(root, eachFile)\n\n            print("Processing file: " + filepath)\n\n            # We use the extension as the file type of the file to be processed\n            filename, fileExtension = os.path.splitext(eachFile)\n\n            # Process the file in File to Memory Protect mode\n            manageAndProtectResult = gw.GWFileProtect(filepath, fileExtension[1:])\n\n            if manageAndProtectResult.returnStatus == 1:\n                writeFile(eachFile, outputDirectory, manageAndProtectResult.fileBuffer)\n\n            # Analyse the file in File to Memory Analysis mode\n            analysisResult = gw.GWFileAnalysisAudit(filepath, fileExtension[1:])\n            writeFile(eachFile + ".xml", outputDirectory, analysisResult.fileBuffer)\n\n    gw.GWFileDone()\n\nif __name__ == "__main__":\n    main()\n\n')),Object(i.b)("h2",{id:"25-issues-to-consider"},"2.5 Issues to consider"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"File paths with Unicode characters need to be correctly encoded otherwise unexpected behaviour may occur.")))}p.isMDXComponent=!0},278:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return b}));var r=t(0),a=t.n(r);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=a.a.createContext({}),p=function(e){var n=a.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},d=function(e){var n=p(e.components);return a.a.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},g=a.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(t),g=r,b=d["".concat(o,".").concat(g)]||d[g]||u[g]||i;return t?a.a.createElement(b,l(l({ref:n},c),{},{components:t})):a.a.createElement(b,l({ref:n},c))}));function b(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=g;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=t[c];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,t)}g.displayName="MDXCreateElement"}}]);