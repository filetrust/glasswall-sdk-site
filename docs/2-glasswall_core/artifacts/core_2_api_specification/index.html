<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.63">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-165717322-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-165717322-1",{})</script>
<script src="/glasswall-sdk-site/js/fix-location.js"></script>
<script src="/glasswall-sdk-site/js/hide-artifacts.js"></script><title data-react-helmet="true">Editor A.P.I. Specification | Glasswall Documentation</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Editor A.P.I. Specification | Glasswall Documentation"><meta data-react-helmet="true" name="description" content="1 GLOSSARY"><meta data-react-helmet="true" property="og:description" content="1 GLOSSARY"><meta data-react-helmet="true" property="og:url" content="https://filetrust.github.io/glasswall-sdk-site/docs/2-glasswall_core/artifacts/core_2_api_specification"><link data-react-helmet="true" rel="shortcut icon" href="/glasswall-sdk-site/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://filetrust.github.io/glasswall-sdk-site/docs/2-glasswall_core/artifacts/core_2_api_specification"><link rel="stylesheet" href="/glasswall-sdk-site/styles.7aeea284.css">
<link rel="preload" href="/glasswall-sdk-site/styles.224b9508.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/runtime~main.81588abd.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/main.f7649e01.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/1.0be4677a.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/2.83719fba.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/165.76963aeb.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/166.c7941e81.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/935f2afb.7d59ae1f.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/17896441.1d00eb2b.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/e3378ed0.5f8e784b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="https://glasswallsolutions.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/glasswall-sdk-site/img/glasswall_logo_blue.png" alt="Glasswall Logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/glasswall-sdk-site/Home">Glasswall Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/glasswall-sdk-site/docs/1-introduction">Documents</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/filetrust" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://glasswallsolutions.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/glasswall-sdk-site/img/glasswall_logo_blue.png" alt="Glasswall Logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/glasswall-sdk-site/Home">Glasswall Documentation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/glasswall-sdk-site/docs/1-introduction">Documents</a></li><li class="menu__list-item"><a href="https://github.com/filetrust" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Editor A.P.I. Specification</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="1-glossary"></a><strong>1 GLOSSARY</strong><a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-glossary" title="Direct link to heading">#</a></h2><table><thead><tr><th>Term</th><th>Description</th></tr></thead><tbody><tr><td>Session</td><td>A session encapsulates the processing of a single file, specified either as a file path or a pointer to a memory image of the file. The session is given information regarding the required output of the session, the policies to be applied, and any other actions required.</td></tr><tr><td><a target="_blank" rel="noopener noreferrer" name="base_name"></a> Base name</td><td>The base name is the component left after all leading directory components have been removed from a file path. The base name can refer to a directory or file.</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="2-introduction"></a><strong>2 INTRODUCTION</strong><a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-introduction" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="21-objective"></a>2.1 Objective<a aria-hidden="true" tabindex="-1" class="hash-link" href="#21-objective" title="Direct link to heading">#</a></h3><p>The objective of this document is to document the Application
Programming Interface (API) for the Glasswall Editor Dynamic Link
Library and Linux Shared Object.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="22-nomenclature"></a>2.2 Nomenclature<a aria-hidden="true" tabindex="-1" class="hash-link" href="#22-nomenclature" title="Direct link to heading">#</a></h3><p>A monospaced font is used for any source code related information. This is
to distinguish it from normal text, and to obviate problems in other
fonts for reading names such as &quot;lInfoFlag1&quot; which is actually</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">lInfoFlag1</span></div></div></div></div></div><p>(lowercase L and uppercase i look the same in quite a few fonts).</p><p>Depending on context, the word <em>bracket</em> is used to indicate any of the
paired delimiters <code>()</code>, <code>{}</code>, <code>[]</code>, although <code>()</code>  are sometimes referred to as parentheses, and <code>{}</code> are sometimes referred to as braces.</p><p>Code examples are shown using a monospaced font. Sometimes short examples are included in the text
in a monospaced font.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="23-glasswall-technology"></a>2.3 Glasswall Technology<a aria-hidden="true" tabindex="-1" class="hash-link" href="#23-glasswall-technology" title="Direct link to heading">#</a></h3><p>Glasswall provides deep-file inspection, remediation, sanitisation and
reporting. The Glasswall API functions give third-party users the
ability to fine-tune an interface to the Glasswall functionality.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="24-types"></a>2.4 Types<a aria-hidden="true" tabindex="-1" class="hash-link" href="#24-types" title="Direct link to heading">#</a></h3><p>The API makes available two enumerations for use by clients as argument
types to certain API functions. Include the header file
&quot;<code>glasswall.core2.api.h</code>&quot; in your source file and use the enumerators when
calling the API functions.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="241-policy_format"></a>2.4.1 Policy_format<a aria-hidden="true" tabindex="-1" class="hash-link" href="#241-policy_format" title="Direct link to heading">#</a></h4><p>The enumeration <code>Policy_format</code> is used to specify the format of the
policies file. The following enumerator is available:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">PF_XML</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="242-analysis_format"></a>2.4.2 Analysis_format<a aria-hidden="true" tabindex="-1" class="hash-link" href="#242-analysis_format" title="Direct link to heading">#</a></h4><p>The enumeration <code>Analysis_format</code> is used to specify the format of the
analysis file. The following enumerator is available:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">AF_XML</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ft_t"></a><code>ft_t</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ft_t" title="Direct link to heading">#</a></h4><p>The enumeration <code>ft_t</code> is used to indicate the file type (file format) of
a file. Include header file &quot;<code>filetype.h</code>&quot; in your source code files to
use them.</p><div style="color:red">This is marked for change to &quot;Ft_t&quot; to conform to the coding guidelines.</div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="244-session"></a>2.4.4 Session<a aria-hidden="true" tabindex="-1" class="hash-link" href="#244-session" title="Direct link to heading">#</a></h4><p><code>Session</code> is a type that represents a file and the mechanisms used to
process that file. It is used by all Glasswall file processing API
functions.</p><div style="color:red">This is marked for change to &quot;SessionHandle&quot;.</div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="25-return-types"></a>2.5 Return Types<a aria-hidden="true" tabindex="-1" class="hash-link" href="#25-return-types" title="Direct link to heading">#</a></h3><p>Most of the functions in the Glasswall API return a value that indicates success or failure. The values and their meaning are listed below.</p><table><thead><tr><th>Value</th><th>Meaning</th></tr></thead><tbody><tr><td>-2</td><td>End of file was detected unexpectedly.</td></tr><tr><td>-1</td><td>General failure; Glasswall failed to process the file</td></tr><tr><td>0</td><td>General success; the file was processed successfully.</td></tr><tr><td>1</td><td>The file was processed successfully and cleaning was performed.</td></tr></tbody></table><p>Each of the functions described in Â§3 assumes that one of these values is returned unless stated otherwise in the detailed description.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3-the-api"></a><strong>3. THE A.P.I.</strong><a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-the-api" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="31-api-overview"></a>3.1 A.P.I. Overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#31-api-overview" title="Direct link to heading">#</a></h3><p>The API is session based. <strong>Session</strong> is a type that represents a file
and the mechanisms used to process that file. You create a <strong>Session</strong>
object by calling <strong>GW2OpenSession</strong> which returns a session handle. You
pass the session handle to other API functions to register the inputs
and outputs, the forms of the inputs and outputs (memory or a file) and
which processing mode is required (Analysis, Manage &amp; Protect, Import,
Export). You then process the file by calling function <strong>GW2RunSession</strong>
and close the session calling <strong>GW2CloseSession</strong>, after processing any
non-persistent storage, or saving non-persistent storage.</p><p>The encapsulation of the processing of each file in a <strong>Session</strong> object
allows multi-thread processing.</p><p>The <a href="#api-functions">API Functions</a> section provides details of each function, and
examples for their use.</p><p>The examples provided conform to the C programming language, as defined by ISO 9899:1990.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="32-api-functions"></a>3.2 A.P.I. Functions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#32-api-functions" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="321-the-gw2closesession-function"></a>3.2.1 The GW2CloseSession Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#321-the-gw2closesession-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2CloseSession(Session session);</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2CloseSession</strong> function closes the session designated by
<strong>session</strong>. All resources allocated by the session will be destroyed.
Only data stored to persistent storage can be processed by the client
after a successful call to <strong>GW2CloseSession</strong>.</p><p><strong>Returns</strong></p><p>If successful, the <strong>GW2CloseSession</strong> function returns zero; otherwise,
it returns non-zero.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="322-the-gw2determinefiletypefromfile-function"></a>3.2.2 The <strong>GW2DetermineFileTypeFromFile</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#322-the-gw2determinefiletypefromfile-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Ft_t GW2DetermineFileTypeFromFile(const char *path);</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2DetermineFileTypeFromFile</strong> function determines the file type
for the file whose name is the string pointed to by <strong>path</strong>.</p><p><strong>Returns</strong></p><p>If <strong>GW2DetermineFileTypeFromFile</strong> cannot discern the file type, it
returns the value of the enumeration constant <strong>ft_unknown</strong> from the
enumerated type <strong>ft_t</strong>; otherwise, it returns a value from the
enumerated type <strong>ft_t</strong> indicating the file type. A list of the
enumeration constants is in the C source header file <strong>filetypes.h</strong>.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;filetypes.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ft_t file_type =</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">GW2DetermineFileTypeFromFile(&quot;c:\dir1\dir2\filename&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">char *type = NULL;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">switch (file_type) /* categorise them */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case ft_doc:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case ft_docx:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case ft_ppt:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case ft_pptx:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case ft_xls:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case ft_xlsx:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        type = &quot;Microsoft Office&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case ft_png:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case ft_jpg:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case ft_gif:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case ft_tiff:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        type = &quot;Image file&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    case ft_pdf:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        type = &quot;PDF&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    default:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        type = &quot;Unrecognised file type&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">printf(&quot;File type is: %s\n&quot;, type);</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="323-the-gw2determinefiletypefrommemory-function"></a>3.2.3 The <strong>GW2DetermineFileTypeFromMemory</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#323-the-gw2determinefiletypefrommemory-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Ft_t GW2DetermineFileTypeFromFile(const char *inputFileBuffer, size_t inputLength);</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2DetermineFileTypeFromMemory</strong> function determines the file type
of the file whose content is in the buffer pointed to by
<strong>inputFileBuffer</strong>.</p><p><strong>Returns</strong></p><p>If <strong>GW2DetermineFileTypeFromMemory</strong> cannot discern the file type, it
returns the value of the enumeration constant <strong>ft_unknown</strong> from the
enumerated type <strong>ft_t</strong>; otherwise, it returns a value from the
enumerated type <strong>ft_t</strong> indicating the file type. A list of the
enumeration constants is in the C source header file <strong>filetypes.h</strong>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="324-the-gw2fileerrormsg-function"></a>3.2.4 The <strong>GW2FileErrorMsg</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#324-the-gw2fileerrormsg-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2FileErrorMsg(Session session, char **errorMsgBuffer, size_t *errorMsgBufferLength);</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2FileErrorMsg</strong> function retrieves the error message reported by
Glasswall. A pointer to the error message is placed in the object
pointed to by <strong>errorMsgBuffer</strong> and the size, in bytes, of the error
message is placed in the <strong>size_t</strong> object pointed to by
<strong>errorMsgBufferLength.</strong></p><p>If there was more than one reason for the error, only one will be
reported by this function call. If details are required for the failure,
they will be present in the analysis report produced if either of the
functions <strong>GW2RegisterAnalysisFile</strong> or <strong>GW2AnalysisRegisterMemory</strong>
were called on the session. If not, the document can be processed by
Glasswall using either of those functions in another session to produce
a detailed analysis report.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="325-the-gw2filesessionstatus-function"></a>3.2.5 The <strong>GW2FileSessionStatus</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#325-the-gw2filesessionstatus-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2FileSessionStatus(SessionÂ session,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    intÂ *glasswallSessionStatus,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    char **statusMsgBuffer, size_t *statusBufferLength);</span></div></div></div></div></div><p>For session <strong>session</strong> the <strong>GW2FileSessionStatus</strong> function places in
the object pointed to by <strong>glasswallSessionStatus</strong> a pointer to a
string that describes, at a high level, the processing carried out on
the last document processed by Glasswall.</p><p><strong>Returns</strong></p><p>If <strong>session</strong> is invalid (0), or a value that has not been returned by
<strong>GW2OpenSession</strong>, it will return -1 and <strong>glasswallSessionStatus</strong>,
<strong>statusMsgBuffer</strong> and <strong>statusBufferLength</strong> will be undefined. If
<strong>session</strong> is valid, the function returns 0 and
<strong>glasswallSessionStatus, statusMsgBuffer</strong> and <strong>statusBufferLength</strong>
will be populated.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="326-the-gw2getallidinfo-function"></a>3.2.6 The <strong>GW2GetAllIdInfo</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#326-the-gw2getallidinfo-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#includeÂ &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">intÂ GW2GetAllIdInfo(Session session, size_tÂ *bufferLength, charÂ **outputBuffer);</span></div></div></div></div></div><p><strong>Description</strong></p><p>For session <strong>session</strong> the <strong>GW2GetAllIdInfo</strong> function places in the
object pointed to by <strong>outputBuffer</strong> a pointer to XML data populated
with Glasswall Issue ID descriptions and value ranges. The length, in
bytes, of the populated output buffer is placed in the <strong>size_t</strong> object
pointed to by <strong>bufferLength</strong>.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">char *outbuf = NULL;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">size_t buflen = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2OpenSession())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* error opening session */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int status = GW2GetAllIdInfo(session, &amp;buflen, &amp;outbuf);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* if status is not 0, outbuf points to a buffer containing the XML file.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    * Either process the data pointed to, or copy the data and process it</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    * after the session is closed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (GW2CloseSession())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* error closing session */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="327-the-gw2getidinfo-function"></a>3.2.7 The <strong>GW2GetIdInfo</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#327-the-gw2getidinfo-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2GetIdInfo(Session session, size_t issueId, size_t *bufferLength, char **outputBuffer);</span></div></div></div></div></div><p><strong>Description</strong></p><p>For session <strong>session</strong>, <strong>GW2GetIdInfo</strong> places in the object pointed
to by <strong>outputBuffer</strong>, a pointer to a description of Glasswall Issue ID
<strong>issueId</strong>. The length of the description, in bytes, is placed in the
<strong>size_t</strong> object pointed to by <strong>bufferLength</strong>.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">char *outbuf = NULL;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">size_t buflen = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2OpenSession())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* error opening session */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    int status = GW2GetIdInfo(session, issueId, &amp;buflen, &amp;outbuf);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* if status is not 0, outbuf points to a buffer containing the XML file.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    * Either process the data pointed to, or copy the data and process it</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    * after GW2CloseSession is called</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (GW2CloseSession())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* error closing session */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="328-the-gw2getpolicysettings-function"></a>3.2.8 The <strong>GW2GetPolicySettings</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#328-the-gw2getpolicysettings-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2GetPolicySettings(Session session,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                         char **policiesBuffer,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                         size_t *policiesLength,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                         Policy_format format</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        );</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2GetPolicySettings</strong> function returns the policy settings used
for session <strong>session</strong>. A pointer to the information is placed in the
object pointed to by <strong>policiesBuffer</strong> and the size, in bytes, of the
data pointed to is placed in the <strong>size_t</strong> object pointed to by
<strong>policiesLength</strong>. The format of the data will be in the format
specified by <strong>format</strong>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="329-the-gw2libversion-function"></a>3.2.9 The <strong>GW2LibVersion</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#329-the-gw2libversion-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const char *GW2LibVersion(void);</span></div></div></div></div></div><p><strong>Returns</strong></p><p>The <strong>GW2LibVersion</strong> function returns a pointer to a constant string
describing the current version of the Glasswall Core 2 library.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &lt;stdio.h&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">puts(GW2LibVersion());</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3210-the-gw2opensession-function"></a>3.2.10 The <strong>GW2OpenSession</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3210-the-gw2opensession-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Session GW2OpenSession(void);</span></div></div></div></div></div><p>The <strong>GW2OpenSession</strong> function creates a new session.</p><p><strong>Returns</strong></p><p>If successful, the <strong>GW2OpenSession</strong> function returns a handle, a small
positive integer that designates the session. The handle is used as an
argument to other API functions to identify the session. If the call
fails, the handle will be zero.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Session session = GW2OpenSession();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!session)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* use session to refer to the session in other API function calls */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* later */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2CloseSession(session))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* error closing session */</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3211-the-gw2registeranalysisfile-function"></a>3.2.11 The <strong>GW2RegisterAnalysisFile</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3211-the-gw2registeranalysisfile-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterAnalysisFile(Session session,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            const char *analysisFilePath,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            Analysis_format format</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                           );</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2RegisterAnalysisFile</strong> function stores in the file whose name
is pointed to by string <strong>analysisFilePath</strong> the analysis report
produced by a successful run of API function <strong>runSession</strong> that used
session <strong>session</strong>. Using this function activates the Analysis Process
Mode for the session.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Session session = GW2OpenSession();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!session)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (GW2RegisterAnalysisFile(session,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                &quot;c:\\analysis_files\\analysis_file_023.xml&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                                AF_XML)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                               )</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* analysis file registered */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* later */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2CloseSession(session))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* error closing session */</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3212-the-gw2registeranalysismemory-function"></a>3.2.12 The <strong>GW2RegisterAnalysisMemory</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3212-the-gw2registeranalysismemory-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterAnalysisMemory(Session session,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                              char **analysisFileBuffer,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                              size_t analysisLength,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                              Analysis_format format</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                             );</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2RegisterAnalysisMemory</strong> function stores in the object pointed
to by <strong>analysisFileBuffer</strong> a pointer to the analysis report produced
by a successful run of API function <strong>runSession</strong> that used session
<strong>session</strong>. The size of the analysis report, in bytes, is placed in the
object pointed to by <strong>analysisLength</strong>. The format of the analysis
report will be in the format requested by <strong>format</strong>. Using this
function activates the Analysis Process Mode for the session.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HANDLE session;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">char *analysisReport = NULL;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">session = GW2OpenSession();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!session)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (GW2RegisterAnalysisMemory(session, &amp;analysisReport, PF_XML))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* analysisReport points to the analysis report data */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* later */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2CloseSession(session))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* error closing session */</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3213-the-gw2registerexportfile-function"></a>3.2.13 The <strong>GW2RegisterExportFile</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3213-the-gw2registerexportfile-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterExportFile(Session session, const char *exportFilePath);</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2RegisterExportFile</strong> function registers the file whose name is
the string pointed to by <strong>exportFilePath</strong> with the session denoted by
<strong>session.</strong> The exported data will be placed in that file. Using this
function activates the Export Process Mode for the session.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3214-the-gw2registerexportmemory-function"></a>3.2.14 The <strong>GW2RegisterExportMemory</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3214-the-gw2registerexportmemory-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterExportMemory(Session session,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            char **exportFileBuffer,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            size_t *exportFileBufferLength</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                           );</span></div></div></div></div></div><p><strong>Description</strong></p><p>For session <strong>session</strong>, the <strong>GW2RegisterExportMemory</strong> function
registers where the exported content is to be placed, and where to place
the size in bytes of the exported content. A pointer to the exported
content will be placed in the object pointed to by <strong>exportFileBuffer</strong>
and the size in bytes of the exported data will be placed in the
<strong>size_t</strong> object pointed to by <strong>exportFileBufferLength</strong>. The exported
content will be deleted when the session is closed using
<strong>GW2CloseSession</strong>. Using this function activates the Export Process
Mode for the session.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3215-the-gw2registerimportfile-function"></a>3.2.15 The <strong>GW2RegisterImportFile</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3215-the-gw2registerimportfile-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterImportFile(Session session, const char *importFilePath);</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2RegisterImportFile</strong> function registers the file whose name is
pointed to by <strong>importFilePath</strong> as the file it should import. The file
must conform to the interchange file format. Using this function
activates the Import Process Mode for the session.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3216-the-gw2registerimportmemory-function"></a>3.2.16 The <strong>GW2RegisterImportMemory</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3216-the-gw2registerimportmemory-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterImportMemory(Session session, char *importFileBuffer, size_t *importLength);</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2RegisterImportMemory</strong> function registers with the session
denoted by <strong>session</strong> the file which is stored in the buffer pointed to
by <strong>importFilePath</strong> of size <strong>inputLength</strong> bytes as the file it
should import. The file must conform to the interchange file format.
Using this function activates the Import Process Mode for the session.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3217-the-gw2registerinputfile-function"></a>3.2.17 The <strong>GW2RegisterInputFile</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3217-the-gw2registerinputfile-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterInputFile(Session session, const char *inputFilePath);</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2RegisterInputFile</strong> function registers the file to be processed
in session <strong>session</strong>. The file name is the string pointed to by
<strong>inputFilePath</strong>.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HANDLE session = GW2OpenSession();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!session)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (GW2RegisterInputFile(session, &quot;filename.doc&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* continue processing */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* later */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2CloseSession(session))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* error closing session */</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3218-the-gw2registerinputmemory-function"></a>3.2.18 The <strong>GW2RegisterInputMemory</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3218-the-gw2registerinputmemory-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterInputMemory(Session session, const char *inputFileBuffer, size_t inputLength);</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2RegisterInputMemory</strong> function registers the file which is
stored in the buffer pointed to by <strong>inputFileBuffer</strong> of size
<strong>inputLength</strong> bytes, with the session denoted by <strong>session.</strong></p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">. . .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HANDLE session = GW2OpenSession();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!session)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* ... load file contents into buffer &#x27;buf&#x27; and log the file size in &#x27;size&#x27; ... */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (GW2RegisterInputMemory(session, buf, size))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* continue processing */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* later */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2CloseSession(session))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* error closing session */</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3219-the-gw2registeroutputfile-function"></a>3.2.19 The <strong>GW2RegisterOutputFile</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3219-the-gw2registeroutputfile-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterOutFile(Session session, const char *outputFilePath);</span></div></div></div></div></div><p><strong>Description</strong></p><p>For session <strong>session</strong> the <strong>GW2RegisterOutFile</strong> function registers
the file whose name is the string pointed to by <strong>outputFileBuffer</strong> as
the destination file for the managed file produced by Glasswall. The
<a href="#base_name">base name</a> of the path must be different to the base name registered
using the <strong>GW2RegisterInputFile</strong> function. Using this function
activates the Manage &amp; Protect Process Mode for the session.</p><div style="color:red">NOTE: This should be called &quot;GW2RegisterOutputFile&quot; for symmetry with &quot;GW2RegisterInputFile&quot;.</div><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HANDLE session = GW2OpenSession();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!session)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (GW2RegisterOutFile(session, &quot;managed_file.docx&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* continue processing */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* later */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2CloseSession(session))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* error closing session */</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3220-the-gw2registeroutputmemory-function"></a>3.2.20 The <strong>GW2RegisterOutputMemory</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3220-the-gw2registeroutputmemory-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterOutputMemory(Session session, char **outputBuffer, size_t *outputLength);</span></div></div></div></div></div><p><strong>Description</strong></p><p>For session <strong>session</strong>, the <strong>GW2RegisterOutputMemory</strong> function
registers where the managed content is to be placed, and where to place
the size in bytes of the managed content. A pointer to the managed file
content will be placed in the object pointed to by <strong>outputBuffer</strong> and
the size in bytes of the managed data will be placed in the <strong>size_t</strong>
object pointed to by <strong>outputLength</strong>. The managed file content will be
deleted when the session is closed using <strong>GW2CloseSession</strong>. Using this
function activates the Manage &amp; Protect Process Mode for the session.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HANDLE session = GW2OpenSession();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">char *managed_content = NULL;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">size_t size = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!session)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (GW2RegisterOutputMemory(session, &amp;managed_content, &amp;size))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* continue processing */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* later */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2CloseSession(session))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* error closing session */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* managed file content has been deleted */</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3221-the-gw2registerpoliciesfile-function"></a>3.2.21 The <strong>GW2RegisterPoliciesFile</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3221-the-gw2registerpoliciesfile-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterPoliciesFile(Session session, const char *filename, Policy_format format);</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2RegisterPoliciesFile</strong> function requests that session
<strong>session</strong> uses the policies specified in the file whose name is the
string pointed to by <strong>filename.</strong> The format of the policies is in the
format specified by <strong>format</strong>. The policies will be applied to all
processing performed by Glasswall for that session.</p><p>If neither <strong>GW2RegisterPoliciesFile</strong> or <strong>GW2RegisterPoliciesMemory</strong>
is registered with a session, the default policies will be applied to
that session.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HANDLE session = GW2OpenSession();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!session)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (GW2RegisterPoliciesFile(session, &quot;Office_Binary_Policies.xml&quot;,  PF_XML))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* the file has been successfully registered */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">. . .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* later */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2CloseSession(session))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* error closing session */</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3222-the-gw2registerpoliciesmemory-function"></a>3.2.22 The <strong>GW2RegisterPoliciesMemory</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3222-the-gw2registerpoliciesmemory-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterPoliciesMemory(Session session,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                              const char *policies,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                              size_t policiesLength,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                              Policy_format format</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                             );</span></div></div></div></div></div><p><strong>Description</strong></p><p>For session <strong>session</strong>, the <strong>GW2RegisterPoliciesMemory</strong> function
registers the policies to be used by Glasswall when processing files.
<strong>policies</strong> is a pointer to the policies data, <strong>policiesLength</strong>
specifies the size in bytes of the policies data, and <strong>policiesFormat</strong>
specifies the format of the policies data.</p><p>If neither <strong>GW2RegisterPoliciesFile</strong> or <strong>GW2RegisterPoliciesMemory</strong>
is registered with a session, the default policies will be applied to
that session.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Session session = GW2OpenSession();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">char *policies = NULL;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">size_t size = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!session)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* ... load &#x27;policies&#x27; with a pointer to the policies content ... */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (GW2RegisterPoliciesMemory(session, policies, size, PF_XML))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* continue processing */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">. . .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* later */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2CloseSession(session))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* error closing session */</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3223-the-gw2registerreportfile-function"></a>3.2.23 The <strong>GW2RegisterReportFile</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3223-the-gw2registerreportfile-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterReportFile(Session session, const char *reportFilePathName);</span></div></div></div></div></div><p><strong>Description</strong></p><p>For session <strong>session</strong>, the <strong>GW2RegisterReportFile</strong> function
registers the name of the file where the engineering log file is to be
placed. The name is the string pointed to by <strong>reportFilePathName</strong>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3224-the-gw2runsession-function"></a>3.2.24 The <strong>GW2RunSession</strong> Function<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3224-the-gw2runsession-function" title="Direct link to heading">#</a></h4><p><strong>Synopsis</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RunSession(Session session);</span></div></div></div></div></div><p><strong>Description</strong></p><p>The <strong>GW2RunSession</strong> function runs session <strong>session</strong>, using all the
previously registered artifacts.</p><p><strong>Example</strong></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#include &quot;glasswall.core2.api.h&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HANDLE session = GW2OpenSession();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (!session)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* deal with error */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">else</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* ... register other artifacts ... */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (GW2RunSession(session))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* error running the session */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/* later */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (GW2CloseSession(session))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* error closing session */</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="4-editor-api-function-call-summary"></a><strong>4 Editor A.P.I. Function Call Summary</strong><a aria-hidden="true" tabindex="-1" class="hash-link" href="#4-editor-api-function-call-summary" title="Direct link to heading">#</a></h2><p>The table below lists all the Core 2 API registration functions. Each
row specifies a File Storage Mode and Process Mode. The API functions
to call to activate them for a session are indicated with &#x27;Y&#x27;. The
report file and policies can be applied to any mode, and an analysis
report can be requested during Import and Export as well.</p><p>The API functions <strong>GW2OpenSession</strong>, <strong>GW2RunSession</strong>, and <strong>GW2CloseSession</strong> are not
shown because they are common to the use of all sessions.</p><p><img src="/glasswall-sdk-site/assets/images/core_2_api_function_call_summary-14f6ea1b5400d63b2825bfc44727e8d5.PNG"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="5-summary-of-api-functions"></a>5 Summary of A.P.I. Functions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#5-summary-of-api-functions" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2CloseSession(Session session);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ft_t GW2DetermineFileTypeFromFile(const char *path);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ft_t GW2DetermineFileTypeFromMemory(const char *inputFileBuffer, size_t inputLength);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2FileErrorMsg(Session session, char **errorMsgBuffer, size_t *errorMsgBufferLength);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2FileSessionStatus(Session session, int *glasswallSessionStatus, char **statusMsgBuffer, size_t *statusbufferLength);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2GetAllIdInfo(Session session, size_t *bufferLength, char **outputBuffer);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2GetIdInfo(Session session, size_t issueId, size_t *bufferLength, char **outputBuffer);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2GetPolicySettings(Session session, char **policiesBuffer, size_t *policiesLength, Policy_format format);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const char *GW2LibVersion(void);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Session GW2OpenSession(void);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterAnalysisFile(Session session, const char *analysisFilePathName, Analysis_format format);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterAnalysisMemory(Session session, char **analysisFileBuffer, size_t *analysisoutputLength, Analysis_format format);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterExportFile(Session session, const char *exportFilePath);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterExportMemory(Session session, char **exportFileBuffer, size_t *exportLength);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterImportFile(Session session, const char *importFilePath);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterImportMemory(Session session, char *importFileBuffer, size_t importLength);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterInputFile(Session session, const char *inputFilePath);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterInputMemory(Session session, const char *inputFileBuffer, size_t inputLength);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterOutFile(Session session, const char *outputFilePath);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterOutputMemory(Session session, char **outputBuffer, size_t *outputLength);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterPoliciesFile(Session session, const char *filename, Policy_format format);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterPoliciesMemory(Session session, char *policies, size_t policiesLength, Policy_format format);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RegisterReportFile(Session session, const char *reportFilePathName);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">int GW2RunSession(Session session);</span></div></div></div></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-glossary" class="table-of-contents__link"><strong>1 GLOSSARY</strong></a></li><li><a href="#2-introduction" class="table-of-contents__link"><strong>2 INTRODUCTION</strong></a><ul><li><a href="#21-objective" class="table-of-contents__link">2.1 Objective</a></li><li><a href="#22-nomenclature" class="table-of-contents__link">2.2 Nomenclature</a></li><li><a href="#23-glasswall-technology" class="table-of-contents__link">2.3 Glasswall Technology</a></li><li><a href="#24-types" class="table-of-contents__link">2.4 Types</a></li><li><a href="#25-return-types" class="table-of-contents__link">2.5 Return Types</a></li></ul></li><li><a href="#3-the-api" class="table-of-contents__link"><strong>3. THE A.P.I.</strong></a><ul><li><a href="#31-api-overview" class="table-of-contents__link">3.1 A.P.I. Overview</a></li><li><a href="#32-api-functions" class="table-of-contents__link">3.2 A.P.I. Functions</a></li></ul></li><li><a href="#4-editor-api-function-call-summary" class="table-of-contents__link"><strong>4 Editor A.P.I. Function Call Summary</strong></a></li><li><a href="#5-summary-of-api-functions" class="table-of-contents__link">5 Summary of A.P.I. Functions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/glasswall-sdk-site/docs/products/cloud-sdk/rebuild/rebuild-quickstart">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/glasswall" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/filetrust" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/glasswallglobal" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/glasswall-solutions-limited/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Glasswall Solutions Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/glasswall-sdk-site/styles.224b9508.js"></script>
<script src="/glasswall-sdk-site/runtime~main.81588abd.js"></script>
<script src="/glasswall-sdk-site/main.f7649e01.js"></script>
<script src="/glasswall-sdk-site/1.0be4677a.js"></script>
<script src="/glasswall-sdk-site/2.83719fba.js"></script>
<script src="/glasswall-sdk-site/165.76963aeb.js"></script>
<script src="/glasswall-sdk-site/166.c7941e81.js"></script>
<script src="/glasswall-sdk-site/935f2afb.7d59ae1f.js"></script>
<script src="/glasswall-sdk-site/17896441.1d00eb2b.js"></script>
<script src="/glasswall-sdk-site/e3378ed0.5f8e784b.js"></script>
</body>
</html>