<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.63">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-165717322-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-165717322-1",{})</script>
<script src="/glasswall-sdk-site/js/fix-location.js"></script><title data-react-helmet="true">Binary Data Definition Language (BDDL) | Glasswall Documentation</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Binary Data Definition Language (BDDL) | Glasswall Documentation"><meta data-react-helmet="true" name="description" content="Binary Data Definition Language (BDDL)"><meta data-react-helmet="true" property="og:description" content="Binary Data Definition Language (BDDL)"><meta data-react-helmet="true" property="og:url" content="https://filetrust.github.io/glasswall-sdk-site/docs/2-glasswall_core/artifacts/bddl"><link data-react-helmet="true" rel="shortcut icon" href="/glasswall-sdk-site/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://filetrust.github.io/glasswall-sdk-site/docs/2-glasswall_core/artifacts/bddl"><link rel="stylesheet" href="/glasswall-sdk-site/styles.6fa2c0dc.css">
<link rel="preload" href="/glasswall-sdk-site/styles.ef67ad48.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/runtime~main.f81010e4.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/main.cce3c076.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/1.804e331f.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/2.7041cb97.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/166.b3c0a40a.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/167.d85c8fca.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/935f2afb.b75cc424.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/17896441.3b540af1.js" as="script">
<link rel="preload" href="/glasswall-sdk-site/bec77e80.436cd7c8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/glasswall-sdk-site/"><img class="navbar__logo" src="/glasswall-sdk-site/img/glasswall_logo_blue.png" alt="Glasswall Logo"><strong class="navbar__title">Glasswall Documentation</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/glasswall-sdk-site/docs/1-introduction">Documents</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/filetrust" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/glasswall-sdk-site/"><img class="navbar__logo" src="/glasswall-sdk-site/img/glasswall_logo_blue.png" alt="Glasswall Logo"><strong class="navbar__title">Glasswall Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/glasswall-sdk-site/docs/1-introduction">Documents</a></li><li class="menu__list-item"><a href="https://github.com/filetrust" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Binary Data Definition Language (BDDL)</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="binary-data-definition-language-bddl"></a>Binary Data Definition Language (BDDL)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#binary-data-definition-language-bddl" title="Direct link to heading">#</a></h2><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overview"></a>Overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overview" title="Direct link to heading">#</a></h1><p>BDDL is a Domain Specific Language (DSL) that defines the format of a binary (or string based) file format in terms of the sequence and layouts of the structures that it is comprised of i.e. BDDL defines the structures, how they may be used and their valid forms. The language was designed to be non-procedural, simple and human readable and can describe virtually any file format and has support for practically any data structure that can be met in a file.</p><p>To parse a file, a system needs to have knowledge about the internal structure
of the file. There are several stages when generating a camera, the first
of which is defining the internal structure of the file in BDDL before
translating each definition to its final C++ form, with each structure
being converted to a Class in C++ via an internally developed code
generator. The diagram below shows the various stages involved in the
code generation process and where BDDL fits in.</p><p><img alt="BDDL Process Diagram" src="/glasswall-sdk-site/assets/images/BDDLProcDia-148d314b111bc9044973594dfbbdd6a7.PNG"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="binary-dom-library-and-miraplacid-viewer"></a>Binary DOM Library and Miraplacid Viewer<a aria-hidden="true" tabindex="-1" class="hash-link" href="#binary-dom-library-and-miraplacid-viewer" title="Direct link to heading">#</a></h2><p>Miraplacid supplies a data viewer as well as a <a title="binDomLib.pdf" href="/glasswall-sdk-site/docs/2-glasswall_core/artifacts/binDomLib.pdf">Binary DOM library</a> that is used by Glasswall to test and validate the BDD definitions prior to generating C++ source files from them. </p><p>Miraplacid Data Viewer is a tool for convenient binary file internals analysis based on BDDL definitions. It represents a binary file structure as a tree and display the hexadecimal content for the file in a hex viewer. Selected tree items or nodes highlight the corresponding binary data in the hex viewer.  The viewer also has rich search and navigation functionality as well as the ability to save selected chunks of data to a file.</p><p>Binary DOM is a software system designed for binary file content access and manipulation. The Binary DOM includes API (set of classes and interfaces for data loading, validation, manipulation and storing), and utility classes for parsing files and validation based on BDDL definitions. This gives the user the ability to develop tools and applications that can be used for various purposes including BDDL definition and document format validation.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="binary-data-definition-language"></a>Binary Data Definition Language<a aria-hidden="true" tabindex="-1" class="hash-link" href="#binary-data-definition-language" title="Direct link to heading">#</a></h1><p>The main building block of the binary data definition language is a document structure. Nested structures define an internal hierarchy of the document. Structures consist of items and rules. </p><p>An item is a field in structure described by type which could be a primitive data type, a structure (which is simply the name of a defined structure) or an enumeration type. </p><u>BDDL Primitive Data Types</u><p>•   uint8 or Byte - byte
•   int8 or SByte - sbyte
•   uint16 or UInt16 - ushort
•   int16 or Int16 - short
•   uint32 or UInt32 - uint
•   int32 Int32 - int
•   uint64 or UInt64 - ulong big endian
•   int64 or Int64 - long big endian
•   uint16be or UInt16BE - ushort big endian
•   int16be or Int16BE - short big endian
•   uint32be Uint32BE - uint big endian
•   int32be or Int32BE - int big endian
•   uint64be or UInt64BE - ulong big endian
•   int64be or Int64BE - long big endian
•   char or Char - 8-bit character (ANSI)
•   wchar or UChar - 16-bit character (Unicode)
•   float or Float - single
•   double or Double - double</p><p>A rule is a condition that can be applied to a structure or a field. The rule is an expression which will be checked against this structure or field during parsing or validation, if the result of execution is false, structure or field will not be accepted.</p><u>Main BDDL Rules</u><div><div><div>Rule</div><div>Description</div></div><div><div>optional</div><div>When applied, if the current data item is omitted in a document that would not be an error.</div></div><div><div>implicit</div><div>All items of a type with &quot;implicit&quot; flag will be expanded and inserted into parent structure directly.</div></div><div><div>allowempty</div><div>If type or array is marked as “allowempty” and it is empty in the document, an error will not be thrown.</div></div><div><div>restrictions</div><div>Defines a special expression rule (in curly braces) which will be checked against the element. If the result of the rule execution is false - error will be reported.</div></div><div><div>AcceptRule</div><div>A pseudo-item containing expression which will be checked against this structure during parsing or validation. If the result of execution is false, structure will not be accepted.</div></div></div><p>The language also provides various other attributes that aid in the definition of complex structures. More detailed information can be found in the <a title="BinaryViewer.chm" href="/glasswall-sdk-site/docs/2-glasswall_core/artifacts/BinaryViewer.chm">Binary Dom Library</a> documentation.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="example-1"></a>Example 1<a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-1" title="Direct link to heading">#</a></h2><p>The diagram below shows an example of a binary data definition in BDDL of two structures from the Microsoft Word Binary MS-DOC specification.</p><p><img alt="Alt text" src="/glasswall-sdk-site/assets/images/BDDLExample1-1db879340fe981e3c0feb29e5decac13.PNG"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="example-2"></a>Example 2<a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-2" title="Direct link to heading">#</a></h2><p>The diagram below contains an example of a binary data definition in BDDL of a structure along-side the definition in Microsoft Word Binary MS-DOC specification.</p><p><img alt="Alt text" src="/glasswall-sdk-site/assets/images/BDDLExample2-4a83d90a2aeadafb6cd7f46435b20e89.PNG"></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="binary-data-definition-bdd---verification"></a>Binary Data Definition (BDD) - Verification<a aria-hidden="true" tabindex="-1" class="hash-link" href="#binary-data-definition-bdd---verification" title="Direct link to heading">#</a></h1><p>As described in previous sections, there are several stages to generating the structural definitions for the Glasswall parsers, the first of which is translating the file formats protocols defined in their official specification into BDDL structure definitions, before translating the BDD definitions into C++ code. </p><p>Prior to converting the BDD files C++ there are several strategies and tests used for verifying that the structural definitions. This particularly includes the use of the Miraplacid Viewer and Binary DOM Library in conjunction with internally developed tools.</p><u>Verification using the Miraplacid Data Viewer</u><p>The Miraplacid viewer can load a file and represent the file and all the internal structure as a tree based on a specified .bdd file i.e. parses a file based on a BDD definition.</p><p>This allows a user to load a binary data file and parse it against the corresponding BDD definition, and visually verify that the file was parsed correctly and was therefore defined correctly.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="example"></a>Example<a aria-hidden="true" tabindex="-1" class="hash-link" href="#example" title="Direct link to heading">#</a></h2><p>The image below serves as an example of a MS-Word file loaded into the Miraplacid viewer and parsed against the binary data definitions developed by Glasswall.</p><p><img alt="Alt text" src="/glasswall-sdk-site/assets/images/BDDLExample3-5a395c32b5bc8b72344ca54c17ba189f.PNG"></p><u>Verification using the Miraplacid DOM library</u><p>Miraplacid Binary DOM includes an API (set of classes and interfaces for data loading, validation, manipulation and storing), and utility classes for parsing files and validating them using the binary data definition created in BDDL.</p><p>Glasswall has developed a tool called <a href="/glasswall-sdk-site/docs/2-glasswall_core/artifacts/BinDirectoryReader">Bin Directory Reader</a> using the Miraplacid Binary DOM SDK. The tool iterates over a directory of files, parsing and validating each file against a single or multiple BDD definitions, reporting the result of every processed file. This enables bulk verification of BDD structure definitions against a large set of files.</p><p>The guide and SDK documentation for Miraplacid Binary DOM library can be found in the document <a title="BinaryViewer.chm" href="/glasswall-sdk-site/docs/2-glasswall_core/artifacts/BinaryViewer.chm">Binary Viewer</a>.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="bddl-developers-hints-and-tips"></a>BDDL Developers hints and tips<a aria-hidden="true" tabindex="-1" class="hash-link" href="#bddl-developers-hints-and-tips" title="Direct link to heading">#</a></h1><p>Glasswall defined hints and tips for BDDL developers can be found in document <a title="BddlHintsAndTips.pdf" href="/glasswall-sdk-site/docs/2-glasswall_core/artifacts/BddlHintsAndTips.pdf">BDDL Hints and Tips</a></p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="bddl-developer-guidelines-and-additions"></a>BDDL Developer Guidelines and Additions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#bddl-developer-guidelines-and-additions" title="Direct link to heading">#</a></h1><p>Glasswall defined BDDL development guidelines and additions can be found in document <a title="BddlDeveloperGuidelines.pdf" href="/glasswall-sdk-site/docs/2-glasswall_core/artifacts/BddlDeveloperGuidelines.pdf">BDDL Developer Guidelines</a>.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="related-links"></a>Related Links<a aria-hidden="true" tabindex="-1" class="hash-link" href="#related-links" title="Direct link to heading">#</a></h1><ul><li><a title="BinaryViewer.chm" href="/glasswall-sdk-site/docs/2-glasswall_core/artifacts/BinaryViewer.chm">Binary DOM documentation</a></li><li>@ref BinDirectoryReader</li><li>@ref dvl</li><li>Glasswall Code Generators<ul><li>@ref BddToCppConverter</li></ul></li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#binary-data-definition-language-bddl" class="table-of-contents__link">Binary Data Definition Language (BDDL)</a></li><li><a href="#binary-dom-library-and-miraplacid-viewer" class="table-of-contents__link">Binary DOM Library and Miraplacid Viewer</a></li><li><a href="#example-1" class="table-of-contents__link">Example 1</a></li><li><a href="#example-2" class="table-of-contents__link">Example 2</a></li><li><a href="#example" class="table-of-contents__link">Example</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/glasswall-sdk-site/docs/products/cloud-sdk/rebuild/rebuild-quickstart">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/glasswall" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/filetrust" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/glasswallglobal" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/glasswall-solutions-limited/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Glasswall Solutions Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/glasswall-sdk-site/styles.ef67ad48.js"></script>
<script src="/glasswall-sdk-site/runtime~main.f81010e4.js"></script>
<script src="/glasswall-sdk-site/main.cce3c076.js"></script>
<script src="/glasswall-sdk-site/1.804e331f.js"></script>
<script src="/glasswall-sdk-site/2.7041cb97.js"></script>
<script src="/glasswall-sdk-site/166.b3c0a40a.js"></script>
<script src="/glasswall-sdk-site/167.d85c8fca.js"></script>
<script src="/glasswall-sdk-site/935f2afb.b75cc424.js"></script>
<script src="/glasswall-sdk-site/17896441.3b540af1.js"></script>
<script src="/glasswall-sdk-site/bec77e80.436cd7c8.js"></script>
</body>
</html>